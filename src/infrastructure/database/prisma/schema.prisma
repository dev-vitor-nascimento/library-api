generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Customer {
  id      String @id @default(uuid())
  name    String
  email   String @unique
  city    String
  address String

  @@map("customers")
}

model Publisher {
  id    String @id @default(uuid())
  name  String @unique
  city  String
  books Book[]

  @@map("publishers")
}

model Book {
  id          String    @id @default(uuid())
  title       String
  author      String
  releaseYear Int       @map("release_year") @db.Year
  publisher   Publisher @relation(fields: [publisherId], references: [id], onDelete: Restrict)
  publisherId String    @map("publisher_id")

  @@unique([title, publisherId])
  @@map("books")
}
